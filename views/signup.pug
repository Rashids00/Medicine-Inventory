doctype html
html(lang="en")

  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1")
    title Sign Up Form
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css", rel="stylesheet")
    link(href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css", rel="stylesheet")
    style.
      body {
          height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: #f8f9fa;
          background-image: url('https://wallpaperaccess.com/full/6890234.jpg');
          background-size: cover;
          background-position: center;
      }
      .card {
          width: 100%;
          max-width: 400px;
          border: none;
          border-radius: 10px;
          box-shadow: 0 0 20px rgba(0, 0, 0, 1);
          background-color: rgba(255, 255, 255, 0.03);
      }
      .card-body {
          padding: 30px;
      }
      .card-title {
        color: #D9D7D7;
      }
      .form-control::placeholder {
          color: #D3D1D1;
      }
      .form-control {
          background-color: rgba(255, 255, 255, 0.2);
          color : white;
      }
      .input-group-text {
        cursor: pointer;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.2); 
      }
      .input-group-text:hover {
          filter: brightness(80%);
      }
      .rounded-input {
        border-radius: 20px; 
      }
      a {
          text-decoration: none;
      }
      p {
        color: #D9D7D7;
      }
      .btn-primary:hover {
          filter: brightness(80%);
      }
      .alert{
          color: black;
      }

  body
    .card
        .card-body.mt-2
          h2.card-title.text-center Sign up
          br

          if typeof error !== 'undefined' && error.length > 0
            .alert.alert-danger#error
              ul#errorList
                each err in error
                  li= err

          if typeof success !== 'undefined' && success.length > 0
            .alert.alert-success#success
              ul
                li= success

          form#signupForm(method='POST', action='signup')
            .mb-3
              div.input-group
                input(type="email", class="form-control rounded-input", id="email", name="email", placeholder="Email", required)
            .mb-3
              div.input-group
                input(type="password", class="form-control rounded-input", id="password", name="password", placeholder="Password", required)
                div.input-group-text
                  i.fa.fa-eye.show-password-icon(style="cursor: pointer; color : #D3D1D1")
            .mb-4
              div.input-group
                input(type="password", class="form-control rounded-input", id="confirmPassword", name="confirmPassword", placeholder="Confirm password", required)
                div.input-group-text
                  i.fa.fa-eye.show-confirm-password-icon(style="cursor: pointer; color : #D3D1D1")
            button(type="submit", class="btn btn-primary rounded-pill w-100", style="color: white; background-color: #4D5756; border: none") Sign up

          br
          p.text-center.mb-0
            | Already have an account? 
            a(href="/medic/login") login 

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
    script.
      const showPasswordIcon = document.querySelector('.show-password-icon');
      const showConfirmPasswordIcon = document.querySelector('.show-confirm-password-icon');
      const passwordField = document.getElementById('password');
      const confirmPasswordField = document.getElementById('confirmPassword');

      showPasswordIcon.addEventListener('click', function() {
        const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordField.setAttribute('type', type);
        this.classList.toggle('fa-eye-slash');
      });

      showConfirmPasswordIcon.addEventListener('click', function() {
        const type = confirmPasswordField.getAttribute('type') === 'password' ? 'text' : 'password';
        confirmPasswordField.setAttribute('type', type);
        this.classList.toggle('fa-eye-slash');
      });
